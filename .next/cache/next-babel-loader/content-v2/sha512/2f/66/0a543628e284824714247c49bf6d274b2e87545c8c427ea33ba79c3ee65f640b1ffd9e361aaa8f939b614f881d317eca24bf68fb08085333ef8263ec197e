{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/yathartharora/Blog/pages/newBlog.js\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport blog from '../Ethereum/blog';\nimport Layout from '../Components/Layout';\nimport { Form, Button, Input, Header, Icon, Image } from 'semantic-ui-react';\nimport ipfs from '../ipfs';\nimport web3 from '../Ethereum/web3';\n\nclass NewBlog extends Component {\n  constructor() {\n    super();\n\n    _defineProperty(this, \"onsubmit\", async event => {\n      event.preventDefault();\n      this.setState({\n        loading: true\n      });\n\n      try {\n        const accounts = await web3.eth.getAccounts();\n        console.log(accounts[0]);\n        await blog.method.Upload(this.state.name, this.state.ipfsHash).send({\n          from: accounts[0],\n          gas: '1000000'\n        });\n      } catch (error) {}\n\n      this.setState({\n        loading: false\n      });\n    });\n\n    this.state = {\n      ipfsHash: '',\n      loading: false,\n      name: '',\n      buffer: null\n    };\n    this.captureFile = this.captureFile.bind(this);\n    this.onsubmit = this.onsubmit.bind(this);\n    this.generate = this.generate.bind(this);\n  }\n\n  generate(event) {\n    event.preventDefault();\n    ipfs.files.add(this.state.buffer, (err, res) => {\n      if (err) {\n        console.log(err);\n        return;\n      }\n\n      this.setState({\n        ipfsHash: res[0].hash\n      });\n      console.log('ipfsHash: ', this.state.ipfsHash);\n    });\n    this.setState({\n      active: false\n    });\n  }\n\n  captureFile(event) {\n    event.preventDefault();\n    console.log('Capture File...');\n    const file = event.target.files[0];\n    const reader = new window.FileReader();\n    reader.readAsArrayBuffer(file);\n\n    reader.onloadend = () => {\n      this.setState({\n        buffer: Buffer(reader.result)\n      });\n      console.log('buffer ', this.state.buffer);\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Layout, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        as: \"h1\",\n        color: \"black\",\n        textAlign: \"center\",\n        dividing: true,\n        children: [/*#__PURE__*/_jsxDEV(Image, {\n          circular: true,\n          src: \"/myself.jpg\",\n          floated: \"left\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }, this), \"CURIOUS MINDS\", /*#__PURE__*/_jsxDEV(Icon, {\n          name: \"upload\",\n          corner: \"top right\",\n          size: \"tiny\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Header.Subheader, {\n          children: \"Don't Let Your Passion Die As A Quotation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: this.onsubmit,\n        children: [/*#__PURE__*/_jsxDEV(Form.Field, {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \" Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            value: this.state.firstname,\n            onChange: event => this.setState({\n              firstname: event.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Upload File\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"file\",\n            onChange: this.captureFile\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          secondary: true,\n          loading: this.state.loading,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          primary: true,\n          onClick: this.generate,\n          children: \"Generate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default NewBlog;","map":{"version":3,"sources":["/Users/yathartharora/Blog/pages/newBlog.js"],"names":["React","Component","blog","Layout","Form","Button","Input","Header","Icon","Image","ipfs","web3","NewBlog","constructor","event","preventDefault","setState","loading","accounts","eth","getAccounts","console","log","method","Upload","state","name","ipfsHash","send","from","gas","error","buffer","captureFile","bind","onsubmit","generate","files","add","err","res","hash","active","file","target","reader","window","FileReader","readAsArrayBuffer","onloadend","Buffer","result","render","firstname","value"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAAQC,IAAR,EAAcC,MAAd,EAAsBC,KAAtB,EAA6BC,MAA7B,EAAqCC,IAArC,EAA2CC,KAA3C,QAAuD,mBAAvD;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;;AAEA,MAAMC,OAAN,SAAsBX,SAAtB,CAA+B;AAG3BY,EAAAA,WAAW,GAAE;AACT;;AADS,sCAcF,MAAMC,KAAN,IAAgB;AACvBA,MAAAA,KAAK,CAACC,cAAN;AACA,WAAKC,QAAL,CAAc;AAACC,QAAAA,OAAO,EAAE;AAAV,OAAd;;AACA,UAAI;AACA,cAAMC,QAAQ,GAAG,MAAMP,IAAI,CAACQ,GAAL,CAASC,WAAT,EAAvB;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAAC,CAAD,CAApB;AACA,cAAMhB,IAAI,CAACqB,MAAL,CAAYC,MAAZ,CAAmB,KAAKC,KAAL,CAAWC,IAA9B,EAAmC,KAAKD,KAAL,CAAWE,QAA9C,EAAwDC,IAAxD,CAA6D;AAC/DC,UAAAA,IAAI,EAAEX,QAAQ,CAAC,CAAD,CADiD;AAE/DY,UAAAA,GAAG,EAAE;AAF0D,SAA7D,CAAN;AAIH,OAPD,CAOE,OAAOC,KAAP,EAAc,CAEf;;AACD,WAAKf,QAAL,CAAc;AAACC,QAAAA,OAAO,EAAE;AAAV,OAAd;AACH,KA5BY;;AAET,SAAKQ,KAAL,GAAW;AACPE,MAAAA,QAAQ,EAAE,EADH;AAEPV,MAAAA,OAAO,EAAE,KAFF;AAGPS,MAAAA,IAAI,EAAE,EAHC;AAIPM,MAAAA,MAAM,EAAE;AAJD,KAAX;AAMA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKE,QAAL,GAAgB,KAAKA,QAAL,CAAcF,IAAd,CAAmB,IAAnB,CAAhB;AACH;;AAoBDE,EAAAA,QAAQ,CAACtB,KAAD,EAAQ;AACZA,IAAAA,KAAK,CAACC,cAAN;AACAL,IAAAA,IAAI,CAAC2B,KAAL,CAAWC,GAAX,CAAe,KAAKb,KAAL,CAAWO,MAA1B,EAAkC,CAACO,GAAD,EAAMC,GAAN,KAAc;AAC5C,UAAGD,GAAH,EAAO;AACHlB,QAAAA,OAAO,CAACC,GAAR,CAAYiB,GAAZ;AACA;AACH;;AACD,WAAKvB,QAAL,CAAc;AAACW,QAAAA,QAAQ,EAAEa,GAAG,CAAC,CAAD,CAAH,CAAOC;AAAlB,OAAd;AACApB,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0B,KAAKG,KAAL,CAAWE,QAArC;AACH,KAPD;AAQA,SAAKX,QAAL,CAAc;AAAC0B,MAAAA,MAAM,EAAE;AAAT,KAAd;AACH;;AAEDT,EAAAA,WAAW,CAACnB,KAAD,EAAQ;AACfA,IAAAA,KAAK,CAACC,cAAN;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AAEA,UAAMqB,IAAI,GAAG7B,KAAK,CAAC8B,MAAN,CAAaP,KAAb,CAAmB,CAAnB,CAAb;AACA,UAAMQ,MAAM,GAAG,IAAIC,MAAM,CAACC,UAAX,EAAf;AACAF,IAAAA,MAAM,CAACG,iBAAP,CAAyBL,IAAzB;;AAEAE,IAAAA,MAAM,CAACI,SAAP,GAAmB,MAAM;AACrB,WAAKjC,QAAL,CAAc;AAACgB,QAAAA,MAAM,EAAEkB,MAAM,CAACL,MAAM,CAACM,MAAR;AAAf,OAAd;AACA9B,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsB,KAAKG,KAAL,CAAWO,MAAjC;AACH,KAHD;AAIH;;AAGDoB,EAAAA,MAAM,GAAE;AACJ,wBACI,QAAC,MAAD;AAAA,8BACI,QAAC,MAAD;AAAQ,QAAA,EAAE,EAAC,IAAX;AAAgB,QAAA,KAAK,EAAC,OAAtB;AAA8B,QAAA,SAAS,EAAC,QAAxC;AAAiD,QAAA,QAAQ,MAAzD;AAAA,gCACQ,QAAC,KAAD;AAAO,UAAA,QAAQ,MAAf;AAAgB,UAAA,GAAG,EAAC,aAApB;AAAkC,UAAA,OAAO,EAAC;AAA1C;AAAA;AAAA;AAAA;AAAA,gBADR,gCAIQ,QAAC,IAAD;AAAM,UAAA,IAAI,EAAC,QAAX;AAAoB,UAAA,MAAM,EAAC,WAA3B;AAAuC,UAAA,IAAI,EAAC;AAA5C;AAAA;AAAA;AAAA;AAAA,gBAJR,eAMQ,QAAC,MAAD,CAAQ,SAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANR;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAaI,QAAC,IAAD;AAAM,QAAA,QAAQ,EAAE,KAAKjB,QAArB;AAAA,gCACI,QAAC,IAAD,CAAM,KAAN;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,KAAD;AACC,YAAA,KAAK,EAAI,KAAKV,KAAL,CAAW4B,SADrB;AAEC,YAAA,QAAQ,EAAIvC,KAAK,IAAI,KAAKE,QAAL,CAAc;AAACqC,cAAAA,SAAS,EAAEvC,KAAK,CAAC8B,MAAN,CAAaU;AAAzB,aAAd;AAFtB;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPJ,eAQI,QAAC,KAAD;AACI,YAAA,IAAI,EAAC,MADT;AAEI,YAAA,QAAQ,EAAI,KAAKrB;AAFrB;AAAA;AAAA;AAAA;AAAA,kBARJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAcI,QAAC,MAAD;AAAQ,UAAA,SAAS,MAAjB;AAAkB,UAAA,OAAO,EAAE,KAAKR,KAAL,CAAWR,OAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAdJ,eAeI,QAAC,MAAD;AAAQ,UAAA,OAAO,MAAf;AAAgB,UAAA,OAAO,EAAE,KAAKmB,QAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAfJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAbJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAiCH;;AAhG0B;;AAmG/B,eAAexB,OAAf","sourcesContent":["import React, {Component} from 'react';\nimport blog from '../Ethereum/blog';\nimport Layout from '../Components/Layout';\nimport {Form, Button, Input, Header, Icon, Image} from 'semantic-ui-react';\nimport ipfs from '../ipfs';\nimport web3 from '../Ethereum/web3';\n\nclass NewBlog extends Component{\n\n\n    constructor(){\n        super();\n        this.state={\n            ipfsHash: '',\n            loading: false,\n            name: '',\n            buffer: null,\n        }\n        this.captureFile = this.captureFile.bind(this);\n        this.onsubmit = this.onsubmit.bind(this);\n        this.generate = this.generate.bind(this);\n    }\n    \n\n    onsubmit = async(event) => {\n        event.preventDefault();\n        this.setState({loading: true});\n        try {\n            const accounts = await web3.eth.getAccounts();\n            console.log(accounts[0]);\n            await blog.method.Upload(this.state.name,this.state.ipfsHash).send({\n                from: accounts[0],\n                gas: '1000000'\n            })\n        } catch (error) {\n            \n        }\n        this.setState({loading: false})\n    }\n\n\n    generate(event) {\n        event.preventDefault();\n        ipfs.files.add(this.state.buffer, (err, res) => {\n            if(err){\n                console.log(err)\n                return\n            }\n            this.setState({ipfsHash: res[0].hash})\n            console.log('ipfsHash: ', this.state.ipfsHash);\n        })\n        this.setState({active: false});\n    }\n\n    captureFile(event) {\n        event.preventDefault();\n        console.log('Capture File...')\n\n        const file = event.target.files[0];\n        const reader = new window.FileReader();\n        reader.readAsArrayBuffer(file);\n\n        reader.onloadend = () => {\n            this.setState({buffer: Buffer(reader.result)})\n            console.log('buffer ',this.state.buffer);\n        }\n    }\n\n\n    render(){\n        return(\n            <Layout>\n                <Header as='h1' color='black' textAlign='center' dividing>\n                        <Image circular src='/myself.jpg' floated='left' />\n                        CURIOUS MINDS\n                        \n                        <Icon name='upload' corner='top right' size='tiny' />\n                        \n                        <Header.Subheader>\n                            Don't Let Your Passion Die As A Quotation\n                        </Header.Subheader>\n                    </Header>\n\n\n                <Form onSubmit={this.onsubmit}>\n                    <Form.Field>\n                        <label> Name</label>\n                        <Input \n                         value = {this.state.firstname}\n                         onChange = {event => this.setState({firstname: event.target.value})}\n                        />\n\n                        <label>Upload File</label>\n                        <Input \n                            type='file'\n                            onChange = {this.captureFile}\n                        />\n                    </Form.Field>\n                    <Button secondary loading={this.state.loading}>Submit</Button> \n                    <Button primary onClick={this.generate}>Generate</Button> \n                </Form>\n            </Layout>\n        )\n    }\n}\n\nexport default NewBlog;"]},"metadata":{},"sourceType":"module"}