{"ast":null,"code":"import _regeneratorRuntime from \"/Users/yathartharora/My-decentralised-Blog/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/yathartharora/My-decentralised-Blog/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _classCallCheck from \"/Users/yathartharora/My-decentralised-Blog/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yathartharora/My-decentralised-Blog/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/yathartharora/My-decentralised-Blog/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/yathartharora/My-decentralised-Blog/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yathartharora/My-decentralised-Blog/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/yathartharora/My-decentralised-Blog/pages/books.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport blog from '../Ethereum/books';\nimport HeadText from '../Components/Heading';\nimport Layout from '../Components/Layout';\nimport RequestBook from '../Components/DisplayBook';\nimport { Card } from 'semantic-ui-react';\n\nvar Books = /*#__PURE__*/function (_Component) {\n  _inherits(Books, _Component);\n\n  var _super = _createSuper(Books);\n\n  function Books() {\n    _classCallCheck(this, Books);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Books, [{\n    key: \"renderRow\",\n    value: function renderRow() {\n      var _this = this;\n\n      return this.props.requests.map(function (request, index) {\n        return /*#__PURE__*/_jsxDEV(RequestBook, {\n          request: request\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 13\n        }, _this);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_jsxDEV(Layout, {\n        children: [/*#__PURE__*/_jsxDEV(HeadText, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 17\n        }, this), \"Total Count: \", requestCount, /*#__PURE__*/_jsxDEV(Card.Group, {\n          itemsPerRow: 3,\n          children: this.renderRow()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 13\n      }, this);\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(props) {\n        var output, requestCount, requests;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return blog.methods.Bookdisplay().call();\n\n              case 2:\n                output = _context.sent;\n                requestCount = output.length;\n                _context.next = 6;\n                return Promise.all(Array(parseInt(requestCount)).fill().map(function (element, index) {\n                  return blog.methods.book(index).call();\n                }));\n\n              case 6:\n                requests = _context.sent;\n                return _context.abrupt(\"return\", {\n                  requests: requests,\n                  requestCount: requestCount\n                });\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return Books;\n}(Component);\n\nexport default Books;","map":{"version":3,"sources":["/Users/yathartharora/My-decentralised-Blog/pages/books.js"],"names":["React","Component","blog","HeadText","Layout","RequestBook","Card","Books","props","requests","map","request","index","requestCount","renderRow","methods","Bookdisplay","call","output","length","Promise","all","Array","parseInt","fill","element","book"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,SAAQC,IAAR,QAAmB,mBAAnB;;IAEMC,K;;;;;;;;;;;;;gCAeU;AAAA;;AACR,aAAO,KAAKC,KAAL,CAAWC,QAAX,CAAoBC,GAApB,CAAwB,UAACC,OAAD,EAAUC,KAAV,EAAoB;AAC/C,4BACA,QAAC,WAAD;AACI,UAAA,OAAO,EAAID;AADf;AAAA;AAAA;AAAA;AAAA,iBADA;AAKH,OANM,CAAP;AAOH;;;6BACO;AACJ,0BACI,QAAC,MAAD;AAAA,gCACI,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,gBADJ,mBAEkBE,YAFlB,eAGI,QAAC,IAAD,CAAM,KAAN;AAAY,UAAA,WAAW,EAAE,CAAzB;AAAA,oBACC,KAAKC,SAAL;AADD;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ;AAUH;;;;uGAjC4BN,K;;;;;;;uBACJN,IAAI,CAACa,OAAL,CAAaC,WAAb,GAA2BC,IAA3B,E;;;AAAfC,gBAAAA,M;AAEAL,gBAAAA,Y,GAAeK,MAAM,CAACC,M;;uBACLC,OAAO,CAACC,GAAR,CACnBC,KAAK,CAACC,QAAQ,CAACV,YAAD,CAAT,CAAL,CAA8BW,IAA9B,GAAqCd,GAArC,CAAyC,UAACe,OAAD,EAASb,KAAT,EAAmB;AACxD,yBAAOV,IAAI,CAACa,OAAL,CAAaW,IAAb,CAAkBd,KAAlB,EAAyBK,IAAzB,EAAP;AACH,iBAFD,CADmB,C;;;AAAjBR,gBAAAA,Q;iDAMC;AAACA,kBAAAA,QAAQ,EAARA,QAAD;AAAWI,kBAAAA,YAAY,EAAZA;AAAX,iB;;;;;;;;;;;;;;;;;;;EAZKZ,S;;AAsCpB,eAAeM,KAAf","sourcesContent":["import React, {Component} from 'react';\nimport blog from '../Ethereum/books'\nimport HeadText from '../Components/Heading';\nimport Layout from '../Components/Layout';\nimport RequestBook from '../Components/DisplayBook';\nimport {Card} from 'semantic-ui-react';\n\nclass Books extends Component{\n\n    static async getInitialProps(props){\n        const output = await blog.methods.Bookdisplay().call();\n\n        const requestCount = output.length;\n        const requests = await Promise.all(\n            Array(parseInt(requestCount)).fill().map((element,index) => {\n                return blog.methods.book(index).call()\n            }) \n        );\n\n        return {requests, requestCount};\n    }\n\n    renderRow() {\n        return this.props.requests.map((request, index) => {\n            return ( \n            <RequestBook\n                request = {request}\n            />\n            );\n        });\n    }\n    render(){\n        return(\n            <Layout>\n                <HeadText />\n                Total Count: {requestCount}\n                <Card.Group itemsPerRow={3}>\n                {this.renderRow()}\n                </Card.Group>\n\n            </Layout>\n        )\n    }\n}\n\nexport default Books;"]},"metadata":{},"sourceType":"module"}